<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Actions</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Real World Redux</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. Project Walkthrough.html">02. Project Walkthrough</a>
    </li>
    <li class="">
      <a href="03. Planning Stage Steps 1&amp;2 - Break Down Views and Components.html">03. Planning Stage: Steps 1&amp;2 - Break Down Views and Components</a>
    </li>
    <li class="">
      <a href="04. Planning Stage Step 3 - Determine Events In The App.html">04. Planning Stage: Step 3 - Determine Events In The App</a>
    </li>
    <li class="">
      <a href="05. Planning Stage Step 4 - Data and the Store.html">05. Planning Stage: Step 4 - Data and the Store</a>
    </li>
    <li class="">
      <a href="06. Actions.html">06. Actions</a>
    </li>
    <li class="">
      <a href="07. Reducers &amp; Middleware.html">07. Reducers &amp; Middleware</a>
    </li>
    <li class="">
      <a href="08. Initializing the App&#x27;s Data.html">08. Initializing the App&#x27;s Data</a>
    </li>
    <li class="">
      <a href="09. Dashboard Component.html">09. Dashboard Component</a>
    </li>
    <li class="">
      <a href="10. Tweet Component.html">10. Tweet Component</a>
    </li>
    <li class="">
      <a href="11. Liking a Tweet.html">11. Liking a Tweet</a>
    </li>
    <li class="">
      <a href="12. New Tweet Component.html">12. New Tweet Component</a>
    </li>
    <li class="">
      <a href="13. Using React Router.html">13. Using React Router</a>
    </li>
    <li class="">
      <a href="14. Lesson Summary.html">14. Lesson Summary</a>
    </li>
    <li class="">
      <a href="15. Course Summary.html">15. Course Summary</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">06. Actions</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <p>Let's start from the Dashboard View. Our Dashboard View displays a list of tweets and a menu.</p>
<p>We need to take a look at <em>what</em> is happening in this view. Let's determine what actions the app or the user is performing <strong>on the data</strong> - is the data being set, modified, or deleted?</p>
<p>Remember that in Step 4 of the Planning Stage, we determined that our store will look like this:</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/1.png" alt="The Store contains a tweets property, a users property, and an authedUser property." class="img img-fluid">
    <figcaption class="figure-caption">
      <p>The Store contains a tweets property, a users property, and an authedUser property.</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>When the app loads, the Dashboard View is displayed. The Dashboard Component therefore needs to:</p>
<ul>
<li><em>get</em> the <strong>tweets</strong></li>
<li><em>get</em> the <strong>users</strong></li>
<li><em>get</em> the <strong>authedUser</strong></li>
</ul>
<p>This data is stored in a database. For this view to load all of the tweets (including their author's avatars), we need to 1) get the <code>tweets</code> and <code>users</code> data from the database; and then 2) to pass that data into the component.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>API Best Practices for React Apps</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Which of the following are best practices for making API requests in React apps? Select all that apply.</p></legend>
    </fieldset>

    <div>
      <input type="checkbox" value="a1522358808678" name="578567" id="a1522358808678">
      <label for="a1522358808678"><p>The component’s <code>render()</code> method.</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1522358819367" name="578567" id="a1522358819367">
      <label for="a1522358819367"><p>The <code>componentDidMount()</code> lifecycle method</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1522358842649" name="578567" id="a1522358842649">
      <label for="a1522358842649"><p>The component's constructor.</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1522358848404" name="578567" id="a1522358848404">
      <label for="a1522358848404"><p>The <code>shouldComponentUpdate()</code> lifecycle method.</p></label>
    </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    <ul>
      <li>The `componentDidMount()` lifecycle method</li>
  </ul>
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>API Best Practices for React &amp; Redux Apps</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Which of the following are best practices for making API requests in React/Redux apps? Select all that apply.</p></legend>
    </fieldset>

    <div>
      <input type="checkbox" value="a1522358923970" name="578568" id="a1522358923970">
      <label for="a1522358923970"><p>From presentational components.</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1522358925545" name="578568" id="a1522358925545">
      <label for="a1522358925545"><p>From the render method.</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1522358926130" name="578568" id="a1522358926130">
      <label for="a1522358926130"><p>From the reducer.</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1522358927490" name="578568" id="a1522358927490">
      <label for="a1522358927490"><p>From asynchronous action creators.</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1522358928049" name="578568" id="a1522358928049">
      <label for="a1522358928049"><p>From the ComponentDidMount lifecycle method.</p></label>
    </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    <ul>
      <li>From asynchronous action creators.</li>
  </ul>
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Remember how normal Action Creators return actions - simple Javascript objects that then go to all of our reducers? Making an API request is an asynchronous action, so we cannot just send a plain Javascript object to our reducers. Redux middleware can gain access to an action when it's on its way to the reducers. We'll be using the <code>redux-thunk</code> middleware in this example. </p>
<p>If the Redux Thunk middleware is enabled (which is done via the <code>applyMiddleware()</code> function), then any time your action creator returns a function instead of a Javascript object, it will go to the <code>redux-thunk</code> middleware.</p>
<p>Dan Abramov <a href="https://stackoverflow.com/questions/35411423/how-to-dispatch-a-redux-action-with-a-timeout/35415559#35415559" rel="noopener noreferrer" target="_blank">describes</a> what happens next: </p>
<blockquote>
  <p>“The middleware will call that function with dispatch method itself as the first argument…The action will only reach the reducers once the API request is completed.<br />
  It will also “swallow” such actions so don't worry about your reducers receiving weird function arguments. Your reducers will only receive plain object actions—either emitted directly, or emitted by the functions as we just described.”</p>
</blockquote>
<p>Here's what a thunk action creator looks like:</p>
<pre><code class="js language-js">function handleInitialData () { 
 return function (dispatch) {}
}</code></pre>
<p>Which is equivalent to this in ES6:</p>
<pre><code class="js language-js">function handleInitialData () {
 return (dispatch) =&gt; {}
}</code></pre>
<p>Now, we need to give our components access to the data that came in. In other words, we need to populate the store with <code>tweets</code> and <code>users</code>.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/image5.png" alt="The Model of Our Store" class="img img-fluid">
    <figcaption class="figure-caption">
      <p>The Model of Our Store</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>The <strong>tweets</strong> slice of the state in the store will be modified by actions that go through the <em>tweets</em> reducer.<br />
The <strong>users</strong> slice of the state in the store will be modified by actions that go through the <em>users</em> reducer.<br />
And, similarly, the <strong>authedUser</strong> portion of the state in the store will be modified by actions that go through the <em>authedUser</em> reducer.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>L705  First Actions V1</p></h3>
  <video controls>
  <source src="06. L705  First Actions V1-Px3vpZBHhHI.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="06. L705  First Actions V1-Px3vpZBHhHI.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="06. L705  First Actions V1-Px3vpZBHhHI.pt-BR.vtt" label="BR">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>L729 Authorized User Action V1</p></h3>
  <video controls>
  <source src="06. L729 Authorized User Action V1--cqWNcFKB5E.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="06. L729 Authorized User Action V1--cqWNcFKB5E.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="06. L729 Authorized User Action V1--cqWNcFKB5E.pt-BR.vtt" label="BR">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p><a href="https://github.com/udacity/reactnd-chirper-app/commit/acc11b20446b9e19dc861ab9ec46d9de57aa6ea8" rel="noopener noreferrer" target="_blank">Here's the commit with the changes made in the previous videos.</a></p>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="07. Reducers &amp; Middleware.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('06. Actions')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
