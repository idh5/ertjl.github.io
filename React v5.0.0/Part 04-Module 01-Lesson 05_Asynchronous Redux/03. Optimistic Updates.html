<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Optimistic Updates</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Asynchronous Redux</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. External Data.html">02. External Data</a>
    </li>
    <li class="">
      <a href="03. Optimistic Updates.html">03. Optimistic Updates</a>
    </li>
    <li class="">
      <a href="04. Thunk.html">04. Thunk</a>
    </li>
    <li class="">
      <a href="05. Leveraging Thunks in our App.html">05. Leveraging Thunks in our App</a>
    </li>
    <li class="">
      <a href="06. Lesson Summary.html">06. Lesson Summary</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">03. Optimistic Updates</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="optimistic-updates">Optimistic Updates</h1>
<p>When dealing with asynchronous requests, there will always be some delay involved. If not taken into consideration, this could cause some weird UI issues. For example, let’s say when a user wants to delete a todo item, that whole process from when the user clicks“delete” to when that item is removed from the database takes two seconds. If you designed the UI to <em>wait for the confirmation from the server</em> to remove the item from the list on the client, your user would click “delete” and then would have to wait for two seconds to see that update in the UI. That’s not the best experience.</p>
<p>Instead what you can do is a technique called <strong>optimistic updates</strong>. Instead of waiting for confirmation from the server, just instantly remove the user from the UI when the user clicks “delete”, then, if the server responds back with an error that the user wasn’t actually deleted, you can add the information back in. This way your user gets that instant feedback from the UI, but, under the hood, the request is still asynchronous. </p>
<p>We’ll see this technique in the upcoming screencasts. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Optimistically Deleting Items</p></h3>
  <video controls>
  <source src="03. Optimistically Deleting Items-l-wRpOTFOys.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="03. Optimistically Deleting Items-l-wRpOTFOys.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="03. Optimistically Deleting Items-l-wRpOTFOys.pt-BR.vtt" label="BR">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p><a href="https://github.com/udacity/reactnd-redux-todos-goals/commit/5186502ac6461c2e88ba1dbf1ec158764c84823c" rel="noopener noreferrer" target="_blank">Here's the commit with the changes made in this video.</a></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <div>
    <h4>Task Description:</h4>
    <p>Now it's your turn. Why don't you try updating the <code>toggleItem</code> method yourself.</p>
  </div>

  <form>
    <fieldset>
      <legend>Task List:</legend>

      <div>
        <input type="checkbox" id="03e4fcfb-2258-4150-9d0a-bffc38de0281--0">
        <label for="03e4fcfb-2258-4150-9d0a-bffc38de0281--0"><p>I have updated the <code>toggleItem</code> method to make an API call to <code>saveTodoToggle()</code></p></label>
      </div>
      <div>
        <input type="checkbox" id="03e4fcfb-2258-4150-9d0a-bffc38de0281--1">
        <label for="03e4fcfb-2258-4150-9d0a-bffc38de0281--1"><p>My updated <code>toggleItem</code> optimistically toggles the item and then makes the API call.</p></label>
      </div>
      <div>
        <input type="checkbox" id="03e4fcfb-2258-4150-9d0a-bffc38de0281--2">
        <label for="03e4fcfb-2258-4150-9d0a-bffc38de0281--2"><p>My updated <code>toggleItem</code> handles API errors by setting the item back to its original state.</p></label>
      </div>
    </fieldset>
  </form>

  <div>
    <h4>Task Feedback:</h4>


    <p>Awesome, keep up the good work!</p>
  </div>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Optimistically Toggling Todos</p></h3>
  <video controls>
  <source src="03. Optimistically Toggling Todos-7nicdmL-1k4.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="03. Optimistically Toggling Todos-7nicdmL-1k4.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="03. Optimistically Toggling Todos-7nicdmL-1k4.pt-BR.vtt" label="BR">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p><a href="https://github.com/udacity/reactnd-redux-todos-goals/commit/89a31404efd2482256e4ce4fbf698fee4afda100" rel="noopener noreferrer" target="_blank">Here's the commit with the changes made in this video.</a></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Persisting Items</p></h3>
  <video controls>
  <source src="03. Persisting Items--uooq_C6jqM.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="03. Persisting Items--uooq_C6jqM.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="03. Persisting Items--uooq_C6jqM.pt-BR.vtt" label="BR">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p><a href="https://github.com/udacity/reactnd-redux-todos-goals/commit/d4732ee5af9cf1ee87b5bd42ec46034b38de4aa3" rel="noopener noreferrer" target="_blank">Here's the commit with the changes made in this video.</a></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="summary">Summary</h1>
<p>In this section, swapped more functionality over to using the API. We now use the database to:</p>
<ul>
<li>remove Todos and Goals</li>
<li>toggle the state of a Todos</li>
<li>save a new Todo or Goal</li>
</ul>
<p>What's important is that for the removing and toggling, we're doing these actions <em>optimistically</em>. So we're assuming the change will succeed correctly on the server, so we update the UI immediately, and then only roll back to the original state if the API returns an error. Doing optimistic updates is better because it provides a more realistic and dynamic experience to the user.</p>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="04. Thunk.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('03. Optimistic Updates')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
