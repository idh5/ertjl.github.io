WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:05.700
如果你以前向 Google Play Store 或 iOS App Store 上传过应用

00:00:05.700 --> 00:00:10.134
则知道需要构建并封装应用

00:00:10.134 --> 00:00:12.144
如果是 Android 应用 则要创建 apk 文件

00:00:12.144 --> 00:00:14.824
如果是 iOS 应用 则要创建 ipa 文件

00:00:14.824 --> 00:00:16.344
我们将在本视频中介绍如何创建

00:00:16.344 --> 00:00:18.899
我们不会实际地逐步介绍

00:00:18.899 --> 00:00:22.274
如何将应用上传到应用商店 因为流程很长

00:00:22.274 --> 00:00:25.469
但是我们会介绍最复杂的步骤

00:00:25.469 --> 00:00:28.469
也就是构建或封装

00:00:28.469 --> 00:00:31.769
上传到应用商店所需的具体文件

00:00:31.769 --> 00:00:35.469
首先 转到终端

00:00:35.469 --> 00:00:40.189
如果尚无 Expo exp 应用

00:00:40.189 --> 00:00:44.604
则在计算机上将其安装为全局模块

00:00:44.604 --> 00:00:46.314
我已经安装了 所以不在此处进行安装

00:00:46.314 --> 00:00:47.519
但是如果你没有的话

00:00:47.520 --> 00:00:53.460
运行 npm install -g exp 安装之后

00:00:53.460 --> 00:00:57.329
假设你的应用目前正在运行

00:00:57.329 --> 00:01:03.000
并且假设你更新了 app.json 文件 我们在上个视频中介绍过如何更新

00:01:03.000 --> 00:01:07.019
现在如果你位于该项目中

00:01:07.019 --> 00:01:10.439
则可以运行 exp build:

00:01:10.439 --> 00:01:14.509
android 或 ios 具体取决于你要针对的平台

00:01:14.510 --> 00:01:16.950
我暂时先为 Android 进行构建

00:01:16.950 --> 00:01:18.740
运行该指令

00:01:18.739 --> 00:01:22.045
最终 系统会问你这个问题

00:01:22.045 --> 00:01:25.840
Would you like to upload a key store or have us generate one for you?

00:01:25.840 --> 00:01:28.615
If you don't know what this means, let us handle it! :)

00:01:28.614 --> 00:01:32.259
我很乐意让他们为我处理这一流程

00:01:32.260 --> 00:01:34.785
因此我将输入 1

00:01:34.784 --> 00:01:37.700
表示让 Expo 处理这一流程

00:01:37.700 --> 00:01:40.670
几分钟过后 你将看到这样的界面

00:01:40.670 --> 00:01:43.310
表示我们开始构建了

00:01:43.310 --> 00:01:46.010
因为将花费无限长的时间 或一段时间

00:01:46.010 --> 00:01:51.620
你可以通过运行 exp build:status 进行监控

00:01:51.620 --> 00:01:56.725
如果运行该指令 会出现一些警告 没关系

00:01:56.724 --> 00:01:59.349
这里提示 Your project looks good!

00:01:59.349 --> 00:02:02.099
Checking if current build exists…

00:02:02.099 --> 00:02:05.269
然后提示依然在构建中

00:02:05.269 --> 00:02:06.869
再等等

00:02:06.870 --> 00:02:12.450
在运行 build:status 指令大概 15 分钟后

00:02:12.449 --> 00:02:14.339
你将获得这个 URL

00:02:14.340 --> 00:02:17.814
你可以在浏览器中转到此 URL

00:02:17.814 --> 00:02:22.050
下载你的 apk 文件

00:02:22.050 --> 00:02:24.810
当你将应用提交到应用商店时

00:02:24.810 --> 00:02:27.765
系统会提示你提供 apk 文件

00:02:27.764 --> 00:02:31.794
你可以直接提供从此 URL 上下载的文件

00:02:31.794 --> 00:02:36.629
现在 对于 iOS 流程来说 基本差不多

00:02:36.629 --> 00:02:40.179
只需运行 exp build:iOS

00:02:40.179 --> 00:02:46.000
这样就会获得一个 ipa 文件并在上传到 iOS App Store 时提供该文件

