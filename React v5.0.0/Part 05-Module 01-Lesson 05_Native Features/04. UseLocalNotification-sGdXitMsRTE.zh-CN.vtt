WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.500
我们已经创建好了

00:00:02.500 --> 00:00:05.455
将为我们设置本地通知的函数

00:00:05.455 --> 00:00:09.384
现在 我们希望能够调用该函数 以便设置通知

00:00:09.384 --> 00:00:15.580
转到 App.js

00:00:15.580 --> 00:00:21.339
从 utils/helpers 中导入函数 setLocalNotification

00:00:21.339 --> 00:00:25.030
当我们的主组件加载时

00:00:25.030 --> 00:00:28.539
不需要返回任何内容

00:00:28.539 --> 00:00:32.714
只需调用 setLocalNotification

00:00:32.715 --> 00:00:35.453
当应用第一次加载时

00:00:35.453 --> 00:00:37.189
将提示：嘿 Expo 想要向您发送通知

00:00:37.189 --> 00:00:38.590
点击“允许”

00:00:38.590 --> 00:00:44.290
现在 每天晚上八点 我们都会收到本地通知

00:00:44.289 --> 00:00:46.629
弹出一条通知

00:00:46.630 --> 00:00:47.740
提示：嘿 确保记录统计数据

00:00:47.740 --> 00:00:50.890
只有在用户尚未记录统计数据时才会出现此通知

00:00:50.890 --> 00:00:54.189
我们现在将处理未记录数据的情形

00:00:54.189 --> 00:00:56.390
因为我们尚未设置该功能

00:00:56.390 --> 00:01:01.870
转到 AddEntry 组件

00:01:01.869 --> 00:01:04.355
也就是一开始处理的第一个组件

00:01:04.355 --> 00:01:09.590
在这里导入一些内容

00:01:09.590 --> 00:01:11.865
要从 helpers 里导入

00:01:11.864 --> 00:01:15.884
在这里 我们已经从 helpers 导入了三项内容

00:01:15.885 --> 00:01:18.100
再导入两项内容

00:01:18.099 --> 00:01:24.009
第一个是 clearLocalNotification

00:01:24.010 --> 00:01:28.685
第二个是 setLocalNotification

00:01:28.685 --> 00:01:32.125
每当用户输入

00:01:32.125 --> 00:01:36.364
当天的信息或统计数据时

00:01:36.364 --> 00:01:42.164
我们就需要清空本地通知并为明天设置一个新的通知

00:01:42.165 --> 00:01:48.430
转到这个 submit 函数中

00:01:48.430 --> 00:01:51.430
我们在这里添加了一条注释

00:01:51.430 --> 00:01:56.005
我们可以调用 clearLocalNotification

00:01:56.004 --> 00:01:57.729
完成后

00:01:57.730 --> 00:02:00.415
设置另一个通知

00:02:00.415 --> 00:02:04.000
即为明天晚上 8 点设置一个通知

