<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Setting a Request Header</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Ajax with XHR</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Course Intro.html">01. Course Intro</a>
    </li>
    <li class="">
      <a href="02. Client Server Demonstration.html">02. Client Server Demonstration</a>
    </li>
    <li class="">
      <a href="03. Ajax Definition &amp; Examples.html">03. Ajax Definition &amp; Examples</a>
    </li>
    <li class="">
      <a href="04. APIs.html">04. APIs</a>
    </li>
    <li class="">
      <a href="05. Create An Async Request with XHR.html">05. Create An Async Request with XHR</a>
    </li>
    <li class="">
      <a href="06. The XHR Object.html">06. The XHR Object</a>
    </li>
    <li class="">
      <a href="07. XHR&#x27;s .open() method.html">07. XHR&#x27;s .open() method</a>
    </li>
    <li class="">
      <a href="08. XHR&#x27;s .send() method.html">08. XHR&#x27;s .send() method</a>
    </li>
    <li class="">
      <a href="09. A Full Request.html">09. A Full Request</a>
    </li>
    <li class="">
      <a href="10. Project Initial Walkthrough.html">10. Project Initial Walkthrough</a>
    </li>
    <li class="">
      <a href="11. Setting a Request Header.html">11. Setting a Request Header</a>
    </li>
    <li class="">
      <a href="12. Project Final Walkthrough.html">12. Project Final Walkthrough</a>
    </li>
    <li class="">
      <a href="13. XHR Recap.html">13. XHR Recap</a>
    </li>
    <li class="">
      <a href="14. XHR Outro.html">14. XHR Outro</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">11. Setting a Request Header</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <p>The XHR method to include a header with the request is <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/setRequestHeader" rel="noopener noreferrer" target="_blank">setRequestHeader</a>. So the full code needs to be:</p>
<pre><code class="js language-js">const searchedForText = 'hippos';
const unsplashRequest = new XMLHttpRequest();

unsplashRequest.open('GET', `https://api.unsplash.com/search/photos?page=1&amp;query=${searchedForText}`);
unsplashRequest.onload = addImage;
unsplashRequest.setRequestHeader('Authorization', 'Client-ID &lt;your-client-id&gt;');
unsplashRequest.send();

function addImage(){
}</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Adding the image</p></h3>
  <video controls>
  <source src="11. Adding the image-rgupp3Tk5tw.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="ar" src="11. Adding the image-rgupp3Tk5tw.ar.vtt" label="ar">
  <track default="true" kind="subtitles" srclang="en" src="11. Adding the image-rgupp3Tk5tw.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="11. Adding the image-rgupp3Tk5tw.pt-BR.vtt" label="BR">
  <track default="false" kind="subtitles" srclang="CN" src="11. Adding the image-rgupp3Tk5tw.zh-CN.vtt" label="CN">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Since the New York Times doesn't require a specific header, we don't need to do anything special. We'll set its <code>onload</code> property to the function <code>addArticles</code> that we'll flesh out in a minute:</p>
<pre><code class="js language-js">function addArticles () {}
const articleRequest = new XMLHttpRequest();
articleRequest.onload = addArticles;
articleRequest.open('GET', `http://api.nytimes.com/svc/search/v2/articlesearch.json?q=${searchedForText}&amp;api-key=&lt;your-API-key-goes-here&gt;`);
articleRequest.send();</code></pre>
<p>Make sure to fill in the URL above with the API key you received in an email from the New York Times after signing up as a developer.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Adding The Articles</p></h3>
  <div>
  <div>
    <h4>Task Description:</h4>
    <p>Similar to how we added the Unsplash image to the page. See if you can add all of the New York Times articles to the page. When you''re done, check the box to continue.</p>
  </div>

  <form>
    <fieldset>
      <legend>Task List:</legend>

      <div>
        <input type="checkbox" id="569c6b35-761c-4e71-93c8-62b1ab3f0ad8--0">
        <label for="569c6b35-761c-4e71-93c8-62b1ab3f0ad8--0"><p>My code now adds the articles to the page!</p></label>
      </div>
    </fieldset>
  </form>

  <div>
    <h4>Task Feedback:</h4>


    <p>Great! Take a look at the video below where I code the solution.</p>
  </div>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Adding The Articles Solution</p></h3>
  <video controls>
  <source src="11. Adding The Articles Solution-V3zRuIqdUuU.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="ar" src="11. Adding The Articles Solution-V3zRuIqdUuU.ar.vtt" label="ar">
  <track default="true" kind="subtitles" srclang="en" src="11. Adding The Articles Solution-V3zRuIqdUuU.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="BR" src="11. Adding The Articles Solution-V3zRuIqdUuU.pt-BR.vtt" label="BR">
  <track default="false" kind="subtitles" srclang="CN" src="11. Adding The Articles Solution-V3zRuIqdUuU.zh-CN.vtt" label="CN">
</video>


</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="12. Project Final Walkthrough.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('11. Setting a Request Header')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
