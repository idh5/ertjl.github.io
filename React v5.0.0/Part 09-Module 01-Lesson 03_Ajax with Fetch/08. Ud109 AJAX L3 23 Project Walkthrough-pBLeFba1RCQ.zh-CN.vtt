WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.924
上面是我们设置的所有代码

00:00:02.924 --> 00:00:06.119
我们就是在这儿发出了第一个 fetch 请求

00:00:06.120 --> 00:00:09.824
我们发出了让 unsplash 的 API 搜索图像
的 API 请求

00:00:09.824 --> 00:00:11.879
以及传递所需标题

00:00:11.880 --> 00:00:13.815
将响应转换为 JSON

00:00:13.814 --> 00:00:18.300
然后将实际的 JSON 数据传递给 addImage 函数

00:00:18.300 --> 00:00:20.234
如果请求有问题

00:00:20.234 --> 00:00:22.800
那么这一行将收到错误 并调用

00:00:22.800 --> 00:00:27.855
出错的 requestError 函数 而且图片请求失败

00:00:27.855 --> 00:00:30.144
这生成了一个获取《纽约时报》文章的请求

00:00:30.144 --> 00:00:33.089
非常类似于 unsplash 的 fetch 请求

00:00:33.090 --> 00:00:36.315
它将请求发送给《纽约时报》 API
并将响应转换成 JSON

00:00:36.314 --> 00:00:40.664
然后将 JSON 数据传递给 addArticles 函数

00:00:40.664 --> 00:00:42.750
如果这个 fetch 请求有问题

00:00:42.750 --> 00:00:45.972
catch 方法也会调用 requestError 函数

00:00:45.972 --> 00:00:49.259
将错误传递给它 获取文章的请求失败

00:00:49.259 --> 00:00:51.594
我们以前见过 addImage 函数

00:00:51.594 --> 00:00:54.585
现在来看看 addArticles 函数

00:00:54.585 --> 00:00:56.655
这段代码将循环遍历所有文章

00:00:56.655 --> 00:00:59.160
并将它们添加到无序列表中

00:00:59.159 --> 00:01:00.509
如果没有出现任何文章

00:01:00.509 --> 00:01:02.909
那么会显示这样的一个错误消息

00:01:02.909 --> 00:01:05.000
这基本上就是应用程序的全部内容了

