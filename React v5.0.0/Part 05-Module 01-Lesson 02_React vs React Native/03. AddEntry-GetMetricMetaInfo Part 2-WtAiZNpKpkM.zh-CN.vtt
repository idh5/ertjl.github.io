WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.870
我们已经设置好了 getMetricMetaInfo 函数

00:00:04.870 --> 00:00:06.724
我们来使用该函数吧

00:00:06.724 --> 00:00:09.369
我们将构建首个组件

00:00:09.369 --> 00:00:13.344
在这里新建一个文件夹 命名为 components

00:00:13.345 --> 00:00:14.815
并在里面

00:00:14.814 --> 00:00:17.954
创建一个 AddEntry.js 文件

00:00:17.954 --> 00:00:21.195
从 React 导入 React

00:00:21.195 --> 00:00:23.399
并获取组件

00:00:23.399 --> 00:00:26.384
就像在网络平台上的普通 react 中一样

00:00:26.385 --> 00:00:27.600
但是现在

00:00:27.600 --> 00:00:28.740
我们将从 react-native

00:00:28.739 --> 00:00:33.420
获取 View 和 Text

00:00:33.420 --> 00:00:38.225
然后获取我们刚刚构建的 getMetricMetaInfo 函数

00:00:38.225 --> 00:00:43.245
位于 utils/helpers

00:00:43.244 --> 00:00:48.794
这个 AddEntry 组件将是我们的首个 React Native 组件

00:00:48.795 --> 00:00:51.880
扩展自 Component

00:00:51.880 --> 00:00:56.175
现在返回一个 UI

00:00:56.174 --> 00:01:00.869
其中有一个 View 里面包含文本“Add Entry”

00:01:00.869 --> 00:01:02.625
确保该组件能正常运行

00:01:02.625 --> 00:01:04.939
转到 App.js 文件

00:01:04.939 --> 00:01:06.390
首先删除

00:01:06.390 --> 00:01:09.905
暂时不会用到的大量内容

00:01:09.905 --> 00:01:11.849
删掉它们

00:01:11.849 --> 00:01:15.839
以及样式

00:01:15.840 --> 00:01:18.350
删掉它俩

00:01:18.349 --> 00:01:23.189
然后删掉这些有争议的分号

00:01:23.189 --> 00:01:26.039
现在我将快速地

00:01:26.040 --> 00:01:29.915
导入刚刚创建的 AddEntry 组件

00:01:29.915 --> 00:01:37.065
来自于 components/AddEntry 现在渲染它

00:01:37.064 --> 00:01:40.075
我们应该能看到一切是否正常

00:01:40.075 --> 00:01:41.495
似乎这里有个错别字

00:01:41.495 --> 00:01:44.670
提示 helpers 中的第 142 行有问题

00:01:44.670 --> 00:01:49.560
依次转到 utils helpers 第 142 行 收起这些内容

00:01:49.560 --> 00:01:54.090
在这里可以看到问题是什么

00:01:54.090 --> 00:01:56.189
我们输入的是 type 而不是 typeof

00:01:56.189 --> 00:01:58.780
type 明显不对

00:01:58.780 --> 00:02:00.969
现在看看是否能正常运行

00:02:00.969 --> 00:02:03.329
通常 对于 iOS 平台 需要刷新下

00:02:03.329 --> 00:02:05.174
现在可以在顶部看到

00:02:05.174 --> 00:02:07.489
在状态栏后面有一个文本

00:02:07.489 --> 00:02:11.144
状态栏将文本 Add Entry 隐藏起来了 最终我们会修复这个问题的

00:02:11.145 --> 00:02:12.719
看来我们的组件能正常运行了

00:02:12.719 --> 00:02:15.254
再测试一项功能

00:02:15.254 --> 00:02:18.389
我们不再输出 Add Entry

00:02:18.389 --> 00:02:19.974
删掉这个文本

00:02:19.974 --> 00:02:23.129
改为显示之前创建的

00:02:23.129 --> 00:02:27.430
getMetricMetaInfo 函数中的某个图标

00:02:27.430 --> 00:02:28.605
调用该函数

00:02:28.604 --> 00:02:29.935
传入 bike

00:02:29.935 --> 00:02:32.550
使其具有具体的指标

00:02:32.550 --> 00:02:35.435
我记得是 getIcon

00:02:35.435 --> 00:02:42.120
没错 输入 getIcon() 现在在这里能看到骑车图标了

