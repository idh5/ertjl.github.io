WEBVTT
Kind: captions
Language: zh-CN

00:00:00.500 --> 00:00:02.690
我登录了银行账户

00:00:02.690 --> 00:00:04.519
因此我的浏览器中设置了登录 Cookie

00:00:04.519 --> 00:00:07.639
打开开发者工具后 可以在这里看到该 Cookie

00:00:07.639 --> 00:00:09.169
现在我需要创建一个网站

00:00:09.169 --> 00:00:11.419
用于发送伪造的请求

00:00:11.419 --> 00:00:13.220
如果有人进入我的网站

00:00:13.220 --> 00:00:15.920
我希望他们以为他们要玩一个游戏

00:00:15.919 --> 00:00:18.920
当他们点击此按钮时 我希望向银行的转账 URL

00:00:18.920 --> 00:00:21.260
发送一个请求

00:00:21.260 --> 00:00:24.860
转账 URL 预计会收到一个 POST 请求

00:00:24.859 --> 00:00:27.739
该请求的主体必须是接收者

00:00:27.739 --> 00:00:30.619
和转账金额

00:00:30.620 --> 00:00:33.980
因为这是 POST 请求

00:00:33.979 --> 00:00:36.390
因此 Content-Type 报头必须设为这个值

00:00:36.390 --> 00:00:38.030
此代码将发送一个请求

00:00:38.030 --> 00:00:41.570
但是银行的网站会检查是否有特定的 Cookie

00:00:41.570 --> 00:00:45.710
Credentials: 'include' 会同时发送此网域的 Cookie

00:00:45.710 --> 00:00:47.990
如果用户已经登录银行账户

00:00:47.990 --> 00:00:49.820
那么浏览器具有登录 Cookie

00:00:49.820 --> 00:00:53.570
并且在发送请求时自动包含该 Cookie

00:00:53.570 --> 00:00:55.399
最后 当有人点击该按钮时

00:00:55.399 --> 00:00:58.229
我将按钮文本改成这个激励性的消息

00:00:58.229 --> 00:00:59.809
我们来试试

00:00:59.810 --> 00:01:03.050
点击该按钮更改了文本 因此发生了操作

00:01:03.049 --> 00:01:06.480
在开发者工具中可以看到刚刚发送的请求

00:01:06.480 --> 00:01:10.130
这是在其他标签页中设置的 Cookie

00:01:10.129 --> 00:01:12.920
刷新银行网站后 出现了这个新的条目

00:01:12.920 --> 00:01:14.180
成功了

00:01:14.180 --> 00:01:16.790
这是练习要寻找的代码

00:01:16.790 --> 00:01:20.170
这道练习有点难 所以很棒

