WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.679
在本视频中 我要讨论的是 react-native

00:00:04.679 --> 00:00:09.320
借助 StyleSheet.create API 提供的 CSS 和 JS 替代方式

00:00:09.320 --> 00:00:13.650
它是一个叫做 styled-components 的库

00:00:13.650 --> 00:00:15.259
在这门课程中 我们不会用到该库

00:00:15.259 --> 00:00:17.719
但是我觉得有必要了解该库

00:00:17.719 --> 00:00:22.269
它在设定组件样式方面提供了不同的方式

00:00:22.269 --> 00:00:23.660
如果你想了解该库

00:00:23.660 --> 00:00:25.609
在使用之前

00:00:25.609 --> 00:00:29.449
先运行 NPM 或 Yarn add styled-components

00:00:29.449 --> 00:00:33.195
然后 你将能够

00:00:33.195 --> 00:00:38.105
从 styled-components 导入 styled

00:00:38.104 --> 00:00:41.659
它位于 react-native 上 因此输入 /native

00:00:41.659 --> 00:00:45.074
现在我们拥有了这个 styled 对象

00:00:45.075 --> 00:00:48.410
styled-components 的作用是

00:00:48.409 --> 00:00:53.369
让样式成为组件中的第一类公民

00:00:53.369 --> 00:00:55.150
对此我们已经讨论过

00:00:55.151 --> 00:00:57.460
因为组件具有状态

00:00:57.460 --> 00:01:01.859
因此还应该包含样式

00:01:01.859 --> 00:01:04.054
这里是一个

00:01:04.055 --> 00:01:06.710
具有 container 样式的 View

00:01:06.709 --> 00:01:08.449
该样式让一切都居中

00:01:08.450 --> 00:01:10.310
然后是这个 Text

00:01:10.310 --> 00:01:14.930
如果我们不像这样添加样式

00:01:14.930 --> 00:01:19.090
而是构建一个组件并内置这些样式呢？

00:01:19.090 --> 00:01:21.530
这就是 styled-components 的主要作用

00:01:21.530 --> 00:01:25.835
我们在这里创建一个组件 叫做 centerView

00:01:25.834 --> 00:01:30.334
然后调用 styled.View

00:01:30.334 --> 00:01:32.839
这里有一个小小的 Tab 模板字面量

00:01:32.840 --> 00:01:37.250
显示为反引号

00:01:37.250 --> 00:01:39.844
这实际上是 ES6 功能

00:01:39.844 --> 00:01:42.409
它使我们能够直接在这里编写真正的 CSS

00:01:42.409 --> 00:01:46.909
而不是使用这些对象

00:01:46.909 --> 00:01:50.923
编写样式和 Javascript

00:01:50.923 --> 00:01:56.760
输入 flex: 1 align-items: center

00:01:56.760 --> 00:02:00.585
注意 不应该使用逗号

00:02:00.584 --> 00:02:05.772
也没有应用任何骆驼拼写法 因为我们就像对待普通 CSS 一样

00:02:05.772 --> 00:02:09.275
输入 justify-content: center

00:02:09.275 --> 00:02:12.760
然后输入 background: #333

00:02:12.759 --> 00:02:18.139
现在 CenterView 将是一个 react-native view 组件

00:02:18.139 --> 00:02:21.199
但是这些样式是内置样式

00:02:21.199 --> 00:02:25.364
我们可以将 style={styles.container”

00:02:25.365 --> 00:02:27.965
改为直接渲染 CenterView

00:02:27.965 --> 00:02:31.370
这样就可以删掉下面的样式

00:02:31.370 --> 00:02:33.080
刷新下应用

00:02:33.080 --> 00:02:36.590
一切都没变

00:02:36.590 --> 00:02:40.460
因为该组件内置了这些样式

00:02:40.460 --> 00:02:41.890
我们再进一步修改下

00:02:41.889 --> 00:02:43.474
转到这里

00:02:43.474 --> 00:02:47.884
输入 WelcomeText = style.Text`

00:02:47.884 --> 00:02:49.566
末尾是反引号

00:02:49.567 --> 00:02:52.819
将这部分内容转移到这里

00:02:52.819 --> 00:02:56.745
输入 color: white

00:02:56.745 --> 00:03:00.349
font-size 设为 20

00:03:00.349 --> 00:03:03.769
现在我们可以将这个 Text

00:03:03.770 --> 00:03:06.890
改为 CenterView

00:03:06.889 --> 00:03:08.869
不过我们要输入的是

00:03:08.870 --> 00:03:10.310
&lt;WelcomeText&gt;

00:03:10.310 --> 00:03:11.900
然后在这里输入 &lt;/WelcomeText&gt;

00:03:11.900 --> 00:03:14.105
在这里输入 Hello

00:03:14.104 --> 00:03:16.274
一切都没变

00:03:16.275 --> 00:03:19.865
将 Hello 改为 Different! 表示是另一种形式

00:03:19.865 --> 00:03:27.100
样式是内置在组件本身里的

00:03:27.099 --> 00:03:28.509
我们再进一步修改下

00:03:28.509 --> 00:03:31.149
假设我们想要使用一个按钮

00:03:31.150 --> 00:03:35.680
并且想要向按钮上添加这些样式

00:03:35.680 --> 00:03:37.510
我们可以输入 WelcomeBtn

00:03:37.509 --> 00:03:42.104
并且可以使用 styled.TouchableOpacity

00:03:42.104 --> 00:03:45.629
该按钮将具有几个不同的属性

00:03:45.629 --> 00:03:48.310
width 为 100px

00:03:48.310 --> 00:03:52.650
height 为 50px background 为 red

00:03:52.650 --> 00:03:55.930
注意 这里相当于输入 CSS 代码

00:03:55.930 --> 00:03:59.560
如果你一直都很讨厌 CSS 和 JS

00:03:59.560 --> 00:04:01.840
则应该非常喜欢 styled-components

00:04:01.840 --> 00:04:04.224
实际上你可以在这门课程的后续阶段一直使用 styled-components

00:04:04.224 --> 00:04:06.025
但是我不会的

00:04:06.025 --> 00:04:08.615
如果你想这样的话 将会学到很多知识

00:04:08.615 --> 00:04:11.560
然后输入 align-items: center

00:04:11.560 --> 00:04:17.560
渲染 WelcomeBtn

00:04:17.560 --> 00:04:19.310
现在的问题是 如果操作

00:04:19.310 --> 00:04:21.819
在何处添加 onPress 属性？

00:04:21.819 --> 00:04:25.000
我们可以直接在组件本身上添加该属性

00:04:25.000 --> 00:04:27.790
传递给 styled-component 的任何属性

00:04:27.790 --> 00:04:30.910
都将传递给真正的组件

00:04:30.910 --> 00:04:33.370
因此 在这里

00:04:33.370 --> 00:04:35.000
输入 alert(‘Hello!’)

00:04:35.000 --> 00:04:39.000
然后输入 PUSH ME

00:04:39.000 --> 00:04:44.290
看看一切是否正常

00:04:44.290 --> 00:04:46.764
当我们点击按钮时 出现了 Hello

00:04:46.764 --> 00:04:48.410
再进行最后一项更改

00:04:48.410 --> 00:04:50.870
我们不再使用这个 Text 组件

00:04:50.870 --> 00:04:56.959
而是重复使用之前构建的 WelcomeText 组件

00:04:56.959 --> 00:05:00.064
以便获取这些样式

00:05:00.064 --> 00:05:04.870
然后输入 Push me

00:05:04.870 --> 00:05:07.870
刚刚这些修改的作用是

00:05:07.870 --> 00:05:11.410
进一步将 CSS 添加到组件中

00:05:11.410 --> 00:05:15.075
现在它们已经内置到组件本身中了

00:05:15.074 --> 00:05:18.610
如果你没有见过 styled-components、glamorous,

00:05:18.610 --> 00:05:19.715
其实它们很相似

00:05:19.714 --> 00:05:23.000
请务必了解下这些库 因为它们现在很热门

