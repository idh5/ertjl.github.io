WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.750
在完成导航器部分之前

00:00:04.750 --> 00:00:07.970
我们还需要进行几项小的更改

00:00:07.969 --> 00:00:12.390
在我们构建的 AddEntry 组件中

00:00:12.390 --> 00:00:15.280
我们预留了这些注释部分

00:00:15.279 --> 00:00:16.890
即 Navigate to Home 和 Route to Home

00:00:16.890 --> 00:00:21.405
每当我们提交新的日期信息

00:00:21.405 --> 00:00:23.929
或重置当天信息

00:00:23.929 --> 00:00:27.015
我们想要执行所有这些操作

00:00:27.015 --> 00:00:29.339
并且返回主屏幕

00:00:29.339 --> 00:00:31.589
我们将在此文件中

00:00:31.589 --> 00:00:36.435
使用方法 NavigationActions

00:00:36.435 --> 00:00:40.454
来自于 react-navigation 软件包

00:00:40.454 --> 00:00:41.820
实现方法是

00:00:41.820 --> 00:00:45.090
转到这里

00:00:45.090 --> 00:00:49.120
新建一个方法 叫做 toHome

00:00:49.119 --> 00:00:50.464
它将

00:00:50.465 --> 00:00:51.720
调用

00:00:51.719 --> 00:00:57.254
this.props.navigation.dispatch 类似于 Redux

00:00:57.255 --> 00:01:02.400
我们将分派 NavigationsActions.back

00:01:02.399 --> 00:01:03.920
我们想回到某个地方

00:01:03.920 --> 00:01:06.075
我们从哪里回去呢？

00:01:06.075 --> 00:01:10.299
也就是具有 key“AddEntry”的位置

00:01:10.299 --> 00:01:12.539
我们想从当前所在的位置

00:01:12.540 --> 00:01:14.980
回到之前的位置

00:01:14.980 --> 00:01:17.219
我们可以在这里

00:01:17.219 --> 00:01:19.739
输入 this.toHome

00:01:19.739 --> 00:01:23.119
在这里也输入 this.toHome

00:01:23.120 --> 00:01:25.800
你会发现

00:01:25.799 --> 00:01:29.099
我们并没太关心事情的发生顺序

00:01:29.099 --> 00:01:30.629
你可以对顺序比较严格

00:01:30.629 --> 00:01:32.009
但是我不太在意

00:01:32.010 --> 00:01:34.315
如果你想遵守一定的顺序 完全可以这么做

00:01:34.314 --> 00:01:36.329
我们的顺序是 分派

00:01:36.329 --> 00:01:38.060
设置状态 相当于异步状态

00:01:38.060 --> 00:01:39.484
一切都会发生 并且可行。

00:01:39.484 --> 00:01:44.310
如果你想重构执行顺序 完全可以

00:01:44.310 --> 00:01:47.790
现在转到 Add Entry

00:01:47.790 --> 00:01:52.535
输入这一天的一些信息 看起来不错

00:01:52.534 --> 00:01:54.030
当我们添加新的条目后

00:01:54.030 --> 00:01:57.409
转到显示这些信息的主屏幕

00:01:57.409 --> 00:01:59.759
现在当我们点击 RESET

00:01:59.760 --> 00:02:01.660
也会回到主屏幕

00:02:01.659 --> 00:02:02.759
并提示

00:02:02.760 --> 00:02:04.605
嘿 别忘了记录今天的数据

00:02:04.605 --> 00:02:06.000
因为我们刚刚清空了数据

