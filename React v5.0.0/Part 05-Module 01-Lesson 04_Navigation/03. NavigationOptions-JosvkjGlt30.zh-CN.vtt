WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.500
这是 Android 和 iOS 版的 EntryDetail 视图

00:00:04.500 --> 00:00:08.129
如果在顶部的标题部分

00:00:08.130 --> 00:00:11.275
显示当天的日期 会不会酷一些？

00:00:11.275 --> 00:00:14.535
这里应该显示 2017 年 8 月 8 日

00:00:14.535 --> 00:00:15.925
好消息是

00:00:15.925 --> 00:00:17.440
我们可以实现这一点

00:00:17.440 --> 00:00:19.380
方法是...

00:00:19.379 --> 00:00:25.019
对于 StackNavigator 和 TabsNavigator

00:00:25.019 --> 00:00:30.714
我们在这里以及在这里的 navigationOptions 下面

00:00:30.714 --> 00:00:34.314
传入了选项作为第二个参数

00:00:34.314 --> 00:00:37.364
如果我们想动态地设置特定的选项

00:00:37.365 --> 00:00:42.862
我们可以在组件本身里通过添加静态属性进行设置

00:00:42.862 --> 00:00:44.564
转到这里 输入 static

00:00:44.564 --> 00:00:49.655
然后输入 navigationOptions 它是一个函数

00:00:49.655 --> 00:00:53.454
向该函数中传入 navigation

00:00:53.454 --> 00:00:54.659
现在转到这里

00:00:54.659 --> 00:00:57.329
输入 entryId

00:00:57.329 --> 00:01:02.489
来自于我们在这里传入的长长的属性

00:01:02.490 --> 00:01:06.954
设为 navigation.state.params

00:01:06.954 --> 00:01:13.435
这段代码的原理是 当我们转到 EntryDetail 视图时

00:01:13.435 --> 00:01:15.435
这段表示

00:01:15.435 --> 00:01:19.079
转到 EntryDetail 并传递这个 entryId

00:01:19.079 --> 00:01:21.625
也就是这一天的 key

00:01:21.625 --> 00:01:24.105
现在我们可以

00:01:24.105 --> 00:01:28.980
返回一个 title

00:01:28.980 --> 00:01:34.350
在这里输入的任何内容将显示在这个标题上

00:01:34.349 --> 00:01:36.089
我们对日期

00:01:36.090 --> 00:01:40.469
进行格式设置

00:01:40.469 --> 00:01:45.989
将 year 设为 entryId.slice(0, 4)

00:01:45.989 --> 00:01:52.049
month 格式完全一样 但是从 5 到 7

00:01:52.049 --> 00:01:58.349
day 将为 entryId.slice(8)

00:01:58.349 --> 00:02:00.149
然后在这里

00:02:00.150 --> 00:02:02.745
使用模板字符串

00:02:02.745 --> 00:02:10.025
输入 ${month}/${day}/${year}

00:02:10.025 --> 00:02:16.891
现在 当我们转到某一天的 EntryDetail 视图时

00:02:16.890 --> 00:02:19.944
将在这里看到日期本身

00:02:19.944 --> 00:02:21.854
我之前没提到的一点是

00:02:21.854 --> 00:02:23.519
ReactNavigation 具有一个好处

00:02:23.520 --> 00:02:30.080
这里的过渡效果非常 Android 化

00:02:30.080 --> 00:02:35.745
是一种弹出效果 而 iOS 上的过渡效果则完全不一样

00:02:35.745 --> 00:02:39.551
因为 iOS 平台与 Android 截然不同

00:02:39.550 --> 00:02:43.109
它们具有不同的行为 动画效果也应该体现这种不同之处

